/// Base de dados de itens pré-cadastrados por categoria
class ProdutosDatabase {
  ProdutosDatabase._(); // Construtor privado

  /// Mapa contendo todos os itens organizados por categoria
  static const Map<String, List<String>> produtos = {
    'Frutas & Verduras': [
      'Abacate',
      'Abacaxi',
      'Abóbora',
      'Acelga',
      'Agrião',
      'Aipim',
      'Alface',
      'Alho',
      'Alho-poró',
      'Ameixa',
      'Abobrinha',
      'Banana',
      'Batata',
      'Batata-doce',
      'Berinjela',
      'Beterraba',
      'Brócolis',
      'Caqui',
      'Cará',
      'Cebolinha',
      'Cebola',
      'Cenoura',
      'Chicória',
      'Chuchu',
      'Coentro',
      'Couve',
      'Couve-flor',
      'Espinafre',
      'Gengibre',
      'Goiaba',
      'Inhame',
      'Jabuticaba',
      'Jiló',
      'Kiwi',
      'Laranja',
      'Limão',
      'Maçã',
      'Mamão',
      'Mandioca',
      'Manga',
      'Manjericão',
      'Maracujá',
      'Maxixe',
      'Melancia',
      'Melão',
      'Milho verde',
      'Morango',
      'Nectarina',
      'Pepino',
      'Pera',
      'Pêssego',
      'Pimentão',
      'Quiabo',
      'Rabanete',
      'Repolho',
      'Rúcula',
      'Salsa',
      'Tangerina',
      'Tomate',
      'Uva',
      'Vagem',
      'Abobrinha italiana',
      'Almeirão',
      'Batata inglesa',
      'Caju',
      'Cana-de-açúcar',
      'Coco seco',
      'Endívia',
      'Jaca',
      'Manga rosa',
      'Melão cantaloupe',
      'Mexerica',
      'Pimentinha',
      'Pimenta-do-reino (fresca)',
      'Rúcula selvagem',
      'Tomate cereja',
      'Tomate italiano',
    ],
    'Carnes & Peixes': [
      'Acém',
      'Alcatra',
      'Atum',
      'Bacalhau',
      'Bacon',
      'Bisteca',
      'Carne moída',
      'Contra-filé',
      'Cordeiro',
      'Costela',
      'Coxa de frango',
      'Cupim',
      'Espetinho',
      'Filé de frango',
      'Filé de peixe',
      'Filé mignon',
      'Frango',
      'Hambúrguer',
      'Lagosta',
      'Linguiça',
      'Lombo',
      'Maminha',
      'Merluza',
      'Músculo',
      'Patinho',
      'Peito de frango',
      'Pernil',
      'Pescada',
      'Picanha',
      'Porco',
      'Salame',
      'Salmão',
      'Salsicha',
      'Sardinha',
      'Tilápia',
      'Asa de frango',
      'Coração de frango',
      'Coxinha da asa',
      'Filé suíno',
      'Peixe tambaqui',
      'Peixe tainha',
      'Peixe bacalhau dessalgado',
      'Presunto',
      'Mortadela',
      'Peito de peru',
      'Torresmo',
      'Costelinha suína',
    ],
    'Laticínios': [
      'Creme de leite',
      'Iogurte',
      'Leite',
      'Leite condensado',
      'Manteiga',
      'Margarina',
      'Nata',
      'Queijo minas',
      'Queijo mussarela',
      'Queijo parmesão',
      'Queijo prato',
      'Queijo provolone',
      'Queijo cottage',
      'Requeijão',
      'Creme de ricota',
      'Coalhada',
      'Queijo cheddar',
      'Queijo gorgonzola',
      'Creme culinário',
      'Chantilly',
      'Queijo coalho',
      'Queijo brie',
      'Queijo minas padrão',
      'Queijo gouda',
      'Queijo suíço',
      'Iogurte grego',
      'Leite em pó',
      'Bebida láctea fermentada',
      'Queijo ralado',
    ],
    'Mercearia': [
      'Açúcar',
      'Açúcar mascavo',
      'Azeite',
      'Arroz',
      'Aveia',
      'Biscoito',
      'Café',
      'Catchup',
      'Chocolate',
      'Farinha de trigo',
      'Farinha de mandioca',
      'Feijão',
      'Fubá',
      'Gelatina',
      'Granola',
      'Macarrão',
      'Maionese',
      'Mel',
      'Milho',
      'Molho de tomate',
      'Mostarda',
      'Óleo',
      'Pão',
      'Pão de forma',
      'Sal',
      'Tempero',
      'Vinagre',
      'Extrato de tomate',
      'Macarrão instantâneo',
      'Massa pronta',
      'Amido de milho',
      'Fermento',
      'Polvilho',
      'Leite de coco',
      'Amendoim',
      'Castanha',
      'Cereal matinal',
      'Ervilha',
      'Milho verde lata',
      'Atum lata',
      'Sardinha lata',
      'Azeitona',
      'Palmito',
      'Ervilha seca',
      'Lentilha',
      'Grão de bico',
      'Farinha integral',
      'Arroz integral',
      'Arroz parboilizado',
      'Feijão preto',
      'Feijão carioca',
      'Molho shoyu',
      'Molho inglês',
      'Molho agridoce',
      'Ketchup picante',
      'Maionese light',
      'Sal grosso',
      'Sal rosa',
      'Farinha de rosca',
      'Tapioca',
      'Canjica',
      'Pipoca',
      'Pipoca de micro-ondas',
      'Torrada',
      'Bolacha salgada',
      'Bolacha doce',
      'Achocolatado em pó',
      'Chá mate',
      'Cereal de aveia',
      'Creme de avelã',
      'Manteiga de amendoim',
      'Vinagre balsâmico',
      'Caldo de galinha',
      'Caldo de carne',
      'Caldo de legumes',
      'Açafrão',
      'Páprica',
      'Pimenta-do-reino moída',
      'Orégano',
      'Açúcar demerara',
      'Panetone',
    ],
    'Bebidas': [
      'Água',
      'Água de coco',
      'Café solúvel',
      'Cerveja',
      'Chá',
      'Energético',
      'Leite de caixinha',
      'Refrigerante',
      'Suco',
      'Vinho',
      'Whisky',
      'Vodka',
      'Guaraná natural',
      'Achocolatado',
      'Isotônico',
      'Água com gás',
      'Água saborizada',
      'Refrigerante zero',
      'Suco natural',
      'Chá gelado',
      'Cerveja sem álcool',
      'Espumante',
      'Gin',
      'Rum',
      'Água tônica',
    ],
    'Limpeza': [
      'Água sanitária',
      'Amaciante',
      'Desinfetante',
      'Detergente',
      'Esponja',
      'Limpa vidros',
      'Lustra móveis',
      'Sabão em pó',
      'Sabão em barra',
      'Saco de lixo',
      'Álcool',
      'Alvejante',
      'Flanela',
      'Pano de chão',
      'Vassoura',
      'Rodo',
      'Balde',
      'Inseticida',
      'Cloro',
      'Sapólio',
      'Desengordurante',
      'Multiuso',
      'Limpa piso',
      'Removedor',
      'Desinfetante de banheiro',
      'Tira manchas',
      'Sabão líquido',
      'Álcool em gel',
      'Refil de limpador',
      'Desodorizador de ambiente',
      'Esfregão',
      'Luvas de limpeza',
    ],
    'Higiene': [
      'Absorvente',
      'Algodão',
      'Cotonete',
      'Creme dental',
      'Desodorante',
      'Escova de dente',
      'Fio dental',
      'Lenço de papel',
      'Papel higiênico',
      'Sabonete',
      'Shampoo',
      'Condicionador',
      'Fralda',
      'Hastes flexíveis',
      'Hidratante',
      'Protetor solar',
      'Repelente',
      'Perfume',
      'Máscara facial',
      'Aparelho de barbear',
      'Espuma de barbear',
      'Loção pós-barba',
      'Escova de cabelo',
      'Pente',
      'Esmalte',
      'Removedor de esmalte',
      'Papel toalha',
      'Lenço umedecido',
      'Desodorante roll-on',
      'Creme para as mãos',
      'Enxaguante bucal',
      'Creme para pentear',
      'Sabonete líquido',
      'Cotonetes',
      'Descolorante',
      'Tintura de cabelo',
      'Pomada infantil',
      'Toalhas umedecidas',
      'Talco',
    ],
    'Padaria': [
      'Baguete',
      'Bisnaga',
      'Bolo',
      'Brioche',
      'Croissant',
      'Filão',
      'Pão de queijo',
      'Pão francês',
      'Pão de forma',
      'Pão integral',
      'Rosca',
      'Sonho',
      'Torta',
      'Pão de hambúrguer',
      'Pão de hot dog',
      'Pão sírio',
      'Pão australiano',
      'Pão integral de grãos',
      'Pão doce',
      'Pão de leite',
      'Pão francês integral',
      'Pão de forma integral',
      'Pão de alho',
      'Pastel',
      'Empada',
      'Quiche',
      'Biscoito caseiro',
      'Muffin',
      'Cupcake',
    ],
    'Congelados': [
      'Batata frita congelada',
      'Frango empanado',
      'Hambúrguer congelado',
      'Lasanha congelada',
      'Pizza congelada',
      'Sorvete',
      'Nuggets',
      'Polpa de frutas',
      'Vegetais congelados',
      'Peixe empanado',
      'Pão de queijo congelado',
      'Legumes mistos',
      'Frutas vermelhas congeladas',
      'Pizza brotinho',
      'Empanado de peixe',
      'Almôndegas congeladas',
      'Pratos prontos congelados',
      'Lasanha bolonhesa',
      'Hambúrguer vegetal',
      'Sorvete light',
    ],
    'Outros': [
      'Ração para cachorro',
      'Ração para gato',
      'Vela',
      'Pilha',
      'Isqueiro',
      'Guardanapo',
      'Papel alumínio',
      'Filme plástico',
      'Carvão',
      'Pilha recarregável',
      'Carvão vegetal',
      'Vela aromática',
      'Fósforo',
      'Saco de lixo',
      'Papel manteiga',
      'Gelo',
      'Pilhas AA',
      'Pilhas AAA',
      'Pilhas recarregáveis',
      'Pilhas botão',
      'Extensões elétricas',
      'Lâmpada',
    ],
  };

  /// Busca produtos por texto em todas as categorias
  static List<String> buscarProdutos(String query) {
    if (query.isEmpty) return [];

    final queryLower = query.toLowerCase().trim();
    final resultados = <String>[];

    produtos.forEach((categoria, itens) {
      for (var item in itens) {
        if (item.toLowerCase().contains(queryLower)) {
          resultados.add(item);
        }
      }
    });

    // Ordena priorizando os que começam com o termo buscado
    resultados.sort((a, b) {
      final aComeca = a.toLowerCase().startsWith(queryLower);
      final bComeca = b.toLowerCase().startsWith(queryLower);

      if (aComeca && !bComeca) return -1;
      if (!aComeca && bComeca) return 1;
      return a.compareTo(b);
    });

    return resultados;
  }

  /// Detecta a categoria de um produto
  static String? detectarCategoria(String nomeProduto) {
    for (var entry in produtos.entries) {
      if (entry.value.contains(nomeProduto)) {
        return entry.key;
      }
    }
    return null;
  }

  /// Retorna todos os produtos de uma categoria específica
  static List<String> getProdutosPorCategoria(String categoria) {
    return produtos[categoria] ?? [];
  }
}
